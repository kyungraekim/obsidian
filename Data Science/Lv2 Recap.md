기본 용어
- 모집단 분석 -> 모수
- 표본 분석 -> 통계량

변수 타입에 따른 분석 기법
- 독립변수 X - 종속변수 Y
	- 수치형 - 수치형 -> 상관분석, 회귀분석
	- 수치형 - 범주형 -> 로지스틱 회귀분석
	- 범주형 - 수치형 -> t-test, ANOVA
	- 범주형 - 범주형 -> 카이제곱 검정

차트 종류
- 일변량 - 변수 1개
	- 범주형 - 원형 (pie chart)
	- 수치형 - 히스토그램,상자그림 (box plot)
- 다변량 - 변수 2개 이상
	- 범주 & 수치 - Box plot, bar chart
	- 수치 & 수치 - 산점도(Scatter plot)
	- 범주 & 범주 - Mosaic plot
	- 범주 & 범주 & 수치 - 누적 세로막대형 차트 (cluster stack column chart)

그래프의 특징
- 히스토그램, Box plot, 산점도(Scatter plot) - 모두 이상치를 알 수 있음

왜도
- 분포의 대칭성을 알아보는 측도 -> 기울어진 정도
- 양수 = positive skew = 오른꼬리가 길다 = right skewed
	- 모 < 메 < 민
- 음수 = negative skew = 왼꼬리가 길다 = left skewed
	- 민 < 메 < 모

상자수염그림 (Box plot)
- 최대/최소가 모든 data point의 최대/최소를 의미하지 않음
- 최대 - The upper end of the whisker
	- Q3 + 1.5 * IQR
- 최소 - The lower end of the whisker
	- Q1 - 1.5 * IQR

첨도
- 정규분포 대비 봉오리의 높이
- 양수/음수 - 정규분포보다 뾰족/평평

분산
- Var(a) = 0
- Var(a + x) = Var(x)
- Var(bx) = b^2 + Var(x)
- Var(x + y) = Var(x) + Var(y) or Var(x) + Var(y) + 2 * Cov(x + y)

분포
- 이항 분포
	- 베르누이 실험, 베르누이 시행
	- n번 반복
- 포아송 분포
	- 단위 시간/거리/면적
	- 구간마다 확률 분포는 일정
- 지수 분포
	- 다음 사건이 일어날 떄까지 대기 시간
- 표준 정규 분포
	- Z = (x - mu) / sigma
- t 분포
	- 적용
		- 모집단 평균 추론 시 표본이 30개 미만
		- 모집단의 분산을 모를 경우 가설검정 또는 회귀분석 시
		- 선형 회귀 계수 추론 시
	- (x_bar - mu) / (S / sqrt(n))
- 카이제곱분포
	- 표준정규분포를 제곱한 값에 대한 분포 -> 항상 양수
	- 오른쪽 꼬리 분포
	- 자유도가 커질수록 정규분포에 가까워짐
	- 적용
		- 모집단 분산 추론
		- 카이제곱 검정
- F 분포
	- 두 개의 카이제곱분포의 비율
	- 동일성 여부 검정 또는 평균치 간의 차이 유무
	- 양수 정규
	- 왼쪽으로 치우진 모양
	- 적용
		- 두 모집단 분산 차이 비교
		- F 검정, 분산분석, 회귀분석

추정
- 추정량 - 모수를 추정하는데 사용되는 표본 통계량
	- 가설 검정에서는 검정 통계량으로 부름

중심극한정리
- 표본이 커지면 평균의 분포는 정규분포에 가까워짐

신뢰구간
- 모수가 포함될 것이라고 주장하는 범위
- 좁을수록 정확도가 높다
- x_bar +- t * s / sqrt(n)

신뢰수준
- 모수의 참값이 두 신뢰 한계 안에 포함될 확률
- Z분포 95% -> +- 1.96
- 모수가 구간 안에 있을 확률이 아니라 반복 추출로 인한 여러 신뢰구간 중 95%는 모수를 포함한다는 의미 (???)

표준 오차
- 표본 평균의 퍼짐 정도
- 표준 오차 = 표준편차 / sqrt(n)
- 범위 > 분산 > 표준편차 > 표준 오차 

상관분석
- 산점도
	- 선형관계, 이상점(outlier) 확인

상관계수
- >= 0.3 -> 선형성
- 0 -> 선형관계 없음
- 피어슨 상관계수 (-1 ~ 1)
	- 두 변수의 정규성 가정
- **스피어만 상관계수**
	- 순위 간 상관관계 파악
	- 비모수적 방법(정규분포 벗어날 때)
- **켄달 상관계수**
	- 순위 간 상관관계를 파악
	- 비모수적 방법(정규분포를 벗어날 때)
	- 크기 순으로 두고 순위가 일치하는 정도
	- X의 순위를 일치시키기 위해 Y를 바꾸어야 하는 정도
- 절대값이 크다 = 선형성이 있다 != 인과 관계가 있다

단순 선형 회귀분석
- 기울기 = (n * sum(x * y) - sum(x) * sum(y)) / (n * sum(x ** 2) - sum(x) ** 2)
- 절편 = (sum(y) * sum(x ** 2) - sum(x) * sum(x * y)) / (n * sum(x ** 2) - sum(x) ** 2)

### 선형회귀분석의 주요 가정
- 데이터 분포에 대한 가정
	- 선형성
		- **산점도, 상관계수, 회귀계수 beta (기울기) 검정**
- 오차에 대한 가정
	- 독립성
		- 오차는 랜덤변수, 독립적이며 동일한 확률 분포
		- **예측값 - 잔차 산점도**
		- **더빈왓슨 테스트**
	- 정규성
		- 오차는 정규분포
		- **산점도, 히스토그램, Q-Q plot,잔차에 대한 왜도/첨도**
		- 성립하지 않으면 분산 분석 불가능
	- 등분산성
		- 오차의 분산은 일정한 상수
		- 성립하지 않으면 F검정, t검정 불가능
		- **예측값 - 잔차 산점도, 잔차의 등분산성에 대한 검정**
- 가정 불만족 시
	- 정규성
		- 데이터 변환으로 일반화 선형 모형 적용
		- Link function를 종속 변수에 적용
			- Binomial/Exponential/Poisson -> logit/inverse/log
	- 등분산성
		- 이상치 제거
		- 가중 선형 회귀
			- 분산의 역수를 가중치로 적용
	- 독립성
		- 데이터 변환
		- 자기 회귀 모델

### 변수처리, 성능평가
- 데이터 이슈
	- 이상치
		- 확인 - 히스토그램, 막대 그래프
		- 대응
			- 데이터 변환
			- Robust regression - 잔차 제곱 -> 절대값 최소화
			- Quantile regression - 구간별로 회귀식
	- 다중공선성
		- 독립변수 간에 강한 상관관계
		- 확인 - 상관분석, VIF ([[Variance Inflation Factor]] - 클수록 존재)
		- 대응
			- Feature engineering
			- Regularization (정규화)
				- Ridge, LASSO, Elastic
				- PCR (Principal Component Regression)
				- PLS (Partial Least Square regression)
- 선형회귀모델 평가
	- 유의성 검정
		- **F 검정통계량에 대한 확률**
	- 적합성 검정
		- R^2 (결정계수), 독립변수 추가시 adjusted R^2
			- 1에 가까울수록 인과관계가 높음
			- 동일한 R^2일 때, 표본 수가 적을 수록 인과성이 높음
			- 완전한 지표, 예측 오차에 대한 지표, 설명하는가를 측정하는 지표가 아님
			- 종속변수에 대해 원시자료를 사용한 경우와 변수 변환 경우 간 R^2 비교는 적절하지 않음 (???)
		- 오차 지표 - MSE, RMSE, MAE, MAPE
- 명목형 변수처리
	- One-hot encoding

### 지수분포
- 무기억성
	- 앞에 기다렸던 시간 S는 무시한다
- 점추정
	- 조건
		- 불편추정량 - 표본 기대값이 모수와 같아지는 추정량
		- 일치추정량 - 샘플 개수가 많아질수록 추정량이 모수와 같아짐
		- 유효추정량 - 불편추정량 중 분산이 작은 불편 추정량
		- 충분통계량 - 모집단의 특성을 충분히 반영한 샘플에서 구한 통계량
	- 방법
		- 최우추정량, 최대우도추정법, MLE
			- 발생할 가능성을 최대화할 수 있는 상태를 최적으로 보는 방법
- 선형회귀분석
	- 이상값
		- 영향점 측정 - DFFITS, Cook's distance, DFBETAS

### 데이터 클리닝
- 데이터 전처리
	- 품질이 낮은 경우
		- 불완전 - 비어있음, 결측
		- 잡음 - 오류, 이상치
		- 모순 - 정합성, 일관성 결여, 수치/범주 혼합
- 데이터 정제
	- 이상값
		- Tukey - Q1 - 1.5 * IQR ~ Q3 + 1.5 * IQR
		- Carling - Q2 - 2.3 * IQR ~ Q2 + 2.3 * IQR
	- 잡음
		- 구간화 (Binning, Bucketization) - 구간을 평균/중앙/경계값으로 변환
		- 회귀
		- 군집화 - 군집의 센터값 적용

### 통합 및 축소
- 축소
	- 차원의 저주 - 차원이 늘어날수록 공간 크기가 기하급수적으로 증가하고 데이터 밀도가 희박해져 필요한 데이터 수가 기하급수적으로 증가
- 표본추출
	- 표본 크기가 클수록, 모집단에서 골고루 추출될수록 대표성 증가
	- 모집단을 모두 조사하지않아 오차 발생 -> 전수조사에 가까울 수록 0
	- 단순임의추출
	- 층화추출 (stratified random sampling)
		- 그룹별로 지정한 비율만큼 임의 선택
	- 계통추출 (systematic sampling)
		- 무작위 후 k번째 요소를 선택
		- 표본에 주기성이 있을 경우 모집단을 전혀 반영못할 수 있음
	- 집락추출 (cluster sampling)
		- 군집 간 동일성, 군집 내 이질성
		- 비용 절감 vs 과대/과소평가로 표본 오차 계산 어려움

### 변환
- 파생변수 생성
	- 파생변수 - 주관적일 수 있는 새로운 변수
	- 요약변수
		- 종합한 변수, 데이터의 수준을 달리하여 종합
		- 빈도를 카운트한 개념
- 정규화
	- 종속변수 증가가 독립변수 증가보다 급격 -> log
	- 종속변수 감소가 독립변수 증가보다 급격 -> 제곱근 (square)

### Under/Over fitting
- 과소적합(underfitting)
	- 모델이 너무 단순해서 학습하지 못하는 상황 -> 성능이 나오지 않음
	- 대응
		- 학습시간 증가
		- 모델 복잡도 증가
		- 추가 feature (???)
		- Regularization 배제 혹은 영향 줄이기
		- 모델 다시 구축
- 과(대)적합(overfitting)
	- 모델이 너무 복잡해서 일반화에 실패
	- 대응
		- 학습시간 감소
		- 데이터 추가
		- 모델 복잡도 감소
		- 일부 feature 제거 (???)
		- Regularization 활용

### 모델평가기법
- 모델 평가 지표
	- Precision - TP / (TP + FP)
	- Recall - TP / (TP + FN)
	- Accuracy - (TP + TN) / (TP + TN + FP + FN)

### 선형회귀분석_머신러닝파트
- 회귀모형에서 명목형 변수의 처리
	- Dummy variable (index variable)
		- One-hot encoding의 1개 항목을 제거하여 column 증가를 줄여 분석 시간을 줄임
		- 예 - y = b0 + b1 * x1 + b2 * (isWhite) + b3 * (isSilver)
- Penalized Regression
	- 변수가 많을 경우 변수를 선택하는 과정이 비연속적이고 최적을 확신하기 어려움
	- 안정적, 연속적인 방법
	- 다중공선성을 정규화
		- Ridge - 다중공선성 관계가 있는 독립변수 가중치 조절
		- Lasso - 다중공선성 관계가 있는 독립변수 삭제
	- 비교

| Ridge | Lasso |
| ----- | ----- |
| L2-norm regularization | L1-norm regularization |
| 변수 선택 불가능 | 변수 선택 가능 |
| Closed-form solution 존재 | Closed-form solution 없음 |
| 상관관계가 높은 상황에서 고성능 | Ridge보다 떨어짐 |
| 크기가 큰 변수를 우선해서 줄임 | |


### 로지스틱 회귀분석

